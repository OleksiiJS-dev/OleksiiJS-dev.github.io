{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport Form from '../Form/Form';\nimport LinkList from './LinkList';\nimport SocialIcons from './SocialIcons';\nimport ThanksModal from './ThanksModal';\nimport { FORMIK } from '../../constants/form';\nimport { TRANSLATE } from '../../constants/languages';\nimport { pathsWithoutFooterForm } from '../../constants/footerMenu';\n\nconst Footer = () => {\n  const {\n    0: showModal,\n    1: setShowModal\n  } = useState(false);\n  const {\n    0: success,\n    1: setSuccess\n  } = useState(true);\n  const {\n    locale,\n    pathname,\n    push\n  } = useRouter();\n\n  const handleShowModal = (success = false) => {\n    setShowModal(!showModal);\n    setSuccess(success);\n    document.body.classList.toggle('hide-overflow');\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxs(\"footer\", {\n      className: \"footer\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"links-and-form\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"link-list-wrapper\",\n          children: [/*#__PURE__*/_jsx(LinkList, {}), /*#__PURE__*/_jsx(SocialIcons, {})]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"request-callback\",\n          children: [!pathsWithoutFooterForm.includes(pathname) && /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"request-callback__title\",\n              children: TRANSLATE[locale].requestCallBackTitle\n            }), /*#__PURE__*/_jsx(Form, {\n              formikConfig: {\n                initialValues: FORMIK.footerForm.values,\n                validationSchema: FORMIK.footerForm.validationSchema(locale),\n                onSubmit: ({\n                  phone\n                }, {\n                  resetForm\n                }) => {\n                  fetch('/api/request', {\n                    headers: {\n                      'Content-Type': 'application/json'\n                    },\n                    method: 'POST',\n                    body: JSON.stringify({\n                      phone\n                    })\n                  }).then(res => {\n                    if (!res.ok) {\n                      throw Error(res.statusText);\n                    }\n\n                    push('/thank-you');\n                    resetForm();\n                  }).catch(() => handleShowModal(false));\n                }\n              },\n              types: FORMIK.footerForm.types,\n              placeholders: FORMIK.footerForm.placeholders(locale),\n              buttonTitle: TRANSLATE[locale].requestCallBack\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"payments-image\",\n            children: /*#__PURE__*/_jsx(Image, {\n              layout: \"fill\",\n              objectFit: \"contain\",\n              loading: \"eager\",\n              src: \"/png/payments.png\"\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"copyright-wrapper\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: \"copyright\",\n          children: TRANSLATE[locale].copyright\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"privacy-policy\",\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/politika-bezopasnosti\",\n            children: TRANSLATE[locale].privacyPolicy\n          })\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"public-contract\",\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/usloviya-soglasheniya\",\n            children: TRANSLATE[locale].publicContract\n          })\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(ThanksModal, {\n      showModal: showModal,\n      handleShowModal: handleShowModal,\n      isSuccess: success\n    })]\n  });\n};\n\nexport default Footer;","map":null,"metadata":{},"sourceType":"module"}