{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useRef, useState } from 'react';\nimport useImage from '../../hooks/useImage';\n\nconst ZoomImage = ({\n  image,\n  alt,\n  zoom\n}) => {\n  const {\n    0: zoomed,\n    1: setZoomed\n  } = useState(false);\n  const {\n    img,\n    isLoad,\n    onLoad\n  } = useImage();\n  const imageContainerRef = useRef(null);\n  useEffect(() => {\n    const changeImageTransformation = e => {\n      var _imageContainerRef$cu, _imageContainerRef$cu2;\n\n      const imageContainerProps = (_imageContainerRef$cu = imageContainerRef.current) === null || _imageContainerRef$cu === void 0 ? void 0 : _imageContainerRef$cu.getBoundingClientRect();\n      const imageElement = (_imageContainerRef$cu2 = imageContainerRef.current) === null || _imageContainerRef$cu2 === void 0 ? void 0 : _imageContainerRef$cu2.getElementsByClassName('image')[0];\n      const transforming = `scale(${zoom})`;\n      const xbias = -((e.x - imageContainerProps.x) / imageContainerProps.width * 100 - 50);\n      const ybias = -((e.y - imageContainerProps.y) / imageContainerProps.height * 100 - 50);\n      imageElement.style.transform = `translate(${(Math.abs(xbias) > 50 ? Math.sign(xbias) * 50 : xbias) * (zoom - 1)}%, ${(Math.abs(ybias) > 50 ? Math.sign(ybias) * 50 : ybias) * (zoom - 1)}%) ` + transforming;\n    };\n\n    const handleMouseClick = e => {\n      var _imageContainerRef$cu3;\n\n      const imageElement = (_imageContainerRef$cu3 = imageContainerRef.current) === null || _imageContainerRef$cu3 === void 0 ? void 0 : _imageContainerRef$cu3.getElementsByClassName('image')[0];\n      imageElement.style.transition = 'transform 0.1s ease-in';\n      imageElement.style.transform = '';\n\n      if (zoomed) {\n        setZoomed(false);\n      } else {\n        if (imageContainerRef.current && imageContainerRef.current.contains(e.target)) {\n          imageElement.style.transition = 'transform 0.1s ease-in';\n          setTimeout(() => {\n            imageElement.style.transition = '';\n          }, 100);\n          setZoomed(true);\n          changeImageTransformation(e);\n        }\n      }\n    };\n\n    const onMouseMove = e => {\n      if (zoomed) {\n        changeImageTransformation(e);\n      }\n    };\n\n    document.addEventListener('click', handleMouseClick);\n    document.addEventListener('mousemove', onMouseMove);\n    return () => {\n      document.removeEventListener('click', handleMouseClick);\n      document.removeEventListener('mousemove', onMouseMove);\n    };\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    ref: imageContainerRef,\n    className: `zoom-image ${zoomed ? 'zoom' : ''}`,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: `zoom-image__preview ${isLoad ? 'not-load' : 'load'}`\n    }), /*#__PURE__*/_jsx(\"img\", {\n      className: \"image\",\n      ref: img,\n      src: `/_next/image?url=${process.env.NEXT_PUBLIC_COCKPIT_URL}${image}&w=1800&q=75`,\n      alt: alt,\n      onLoad: onLoad\n    })]\n  });\n};\n\nexport default ZoomImage;","map":null,"metadata":{},"sourceType":"module"}