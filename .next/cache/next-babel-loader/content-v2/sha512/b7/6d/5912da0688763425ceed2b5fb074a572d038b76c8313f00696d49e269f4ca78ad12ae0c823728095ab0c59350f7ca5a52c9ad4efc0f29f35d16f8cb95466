{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\archivegit\\\\blind-blind\\\\src\\\\components\\\\Form\\\\Form.tsx\";\nimport { useMemo, useEffect, useState, useRef } from 'react';\nimport { useFormik } from 'formik';\nimport { useRouter } from 'next/router';\nimport InputMask from 'react-input-mask';\nimport intlTelInput from 'intl-tel-input';\nimport Fuse from 'fuse.js';\nimport Button from '../Button/Button';\nimport Dropdown from './Dropdown';\nimport { FORM } from '../../constants/form';\nimport warehouses from '../../../npWarehouses.json';\n\nconst Form = ({\n  formikConfig,\n  types,\n  selectOptions,\n  placeholders,\n  suffixes,\n  masks,\n  checkboxText,\n  buttonTitle,\n  optionFields,\n  deliveryChangeHandler\n}) => {\n  const formik = useFormik(formikConfig);\n  const {\n    locale\n  } = useRouter();\n  const phoneRef = useRef(null);\n  const {\n    0: mask,\n    1: setMask\n  } = useState();\n  useEffect(() => {\n    if (formik.values.phone !== undefined) {\n      setMask(intlTelInput(phoneRef.current, {\n        separateDialCode: true,\n        initialCountry: 'ua',\n        preferredCountries: ['ua', 'ru', 'kz', 'us', 'il', 'ae', 'by'],\n        excludeCountries: ['ru', 'by']\n      }));\n    }\n  }, [phoneRef]);\n  useEffect(() => {\n    formik.setValues(formikConfig.initialValues);\n  }, [formikConfig]);\n  const inputWarehouse = useMemo(() => {\n    const options = {\n      includeScore: true,\n      keys: ['settlement']\n    };\n    const fuse = new Fuse(warehouses, options);\n    const currentWarehouses = fuse.search(formik.values['city'] || '');\n\n    if (locale === 'en' || !currentWarehouses.length) {\n      const handleBlur = e => {\n        e.target.value = e.target.value.trim();\n        formik.handleBlur(e);\n        formik.handleChange(e);\n      };\n\n      const InputText = key => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: key,\n          name: key,\n          value: formik.values[key],\n          placeholder: placeholders[key],\n          onChange: formik.handleChange,\n          onBlur: handleBlur,\n          onFocus: () => formik.touched[key] = undefined\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), !!suffixes && suffixes[key] && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"input-suffix\",\n          children: suffixes[key]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this);\n\n      return InputText;\n    }\n\n    const InputField = key => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-select\",\n      children: /*#__PURE__*/_jsxDEV(Dropdown, {\n        value: formik.values[key],\n        placeholder: placeholders[key],\n        values: currentWarehouses.map(({\n          item: {\n            address\n          }\n        }) => address),\n        setValue: item => formik.setFieldValue(key, item)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n\n    return InputField;\n  }, [formik, placeholders, locale]);\n  const inputText = useMemo(() => {\n    const handleBlur = e => {\n      e.target.value = e.target.value.trim();\n      formik.handleBlur(e);\n      formik.handleChange(e);\n    };\n\n    const InputField = key => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: key,\n        name: key,\n        value: formik.values[key],\n        placeholder: placeholders[key],\n        onChange: formik.handleChange,\n        onBlur: handleBlur,\n        onFocus: () => formik.touched[key] = undefined\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), !!suffixes && suffixes[key] && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input-suffix\",\n        children: suffixes[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n\n    return InputField;\n  }, [formik, placeholders, suffixes]);\n  const inputTextWithMask = useMemo(() => {\n    const InputField = key => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-box\",\n      children: [/*#__PURE__*/_jsxDEV(InputMask, {\n        type: \"text\",\n        id: key,\n        name: key,\n        value: formik.values[key],\n        placeholder: placeholders[key],\n        onChange: formik.handleChange,\n        onBlur: formik.handleBlur,\n        onFocus: () => formik.touched[key] = undefined,\n        mask: masks ? masks[key] : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), !!suffixes && suffixes[key] && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input-suffix\",\n        children: suffixes[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n\n    return InputField;\n  }, [formik, masks, placeholders, suffixes]);\n  const inputTextArea = useMemo(() => {\n    const InputField = key => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-area\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: key,\n        name: key,\n        value: formik.values[key],\n        placeholder: placeholders[key],\n        onChange: formik.handleChange,\n        onBlur: formik.handleBlur,\n        onFocus: () => formik.touched[key] = undefined\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), !!suffixes && suffixes[key] && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input-suffix\",\n        children: suffixes[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this);\n\n    return InputField;\n  }, [formik, placeholders, suffixes]);\n  const inputCheckbox = useMemo(() => {\n    const InputField = key => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-checkbox\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"checkbox\",\n        type: \"checkbox\",\n        id: key,\n        name: key,\n        value: formik.values[key],\n        onChange: formik.handleChange,\n        onBlur: formik.handleBlur,\n        onFocus: () => formik.touched[key] = undefined\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"input-checkbox__label\",\n        htmlFor: key,\n        children: checkboxText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this);\n\n    return InputField;\n  }, [formik, checkboxText]);\n  const inputDelivery = useMemo(() => {\n    function deliverySetValue(item, key) {\n      formik.setFieldValue(key, item);\n      if (deliveryChangeHandler) deliveryChangeHandler(item);\n    }\n\n    const InputField = key => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-select\",\n      children: /*#__PURE__*/_jsxDEV(Dropdown, {\n        value: formik.values[key],\n        placeholder: placeholders[key],\n        values: [FORM[locale].novaPoshta, FORM[locale].ukrPoshta, FORM[locale].courierNovaPoshta],\n        setValue: item => deliverySetValue(item, key)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this);\n\n    return InputField;\n  }, [formik, placeholders, selectOptions]);\n  const inputSelect = useMemo(() => {\n    const InputField = key => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-select\",\n      children: /*#__PURE__*/_jsxDEV(Dropdown, {\n        value: formik.values[key],\n        placeholder: placeholders[key],\n        values: selectOptions ? selectOptions[key] : [],\n        setValue: item => formik.setFieldValue(key, item)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this);\n\n    return InputField;\n  }, [formik, placeholders, selectOptions]);\n  const inputPhone = useMemo(() => {\n    const InputField = key => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"phone-mask-container\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: key,\n          name: key,\n          ref: phoneRef,\n          value: formik.values[key],\n          placeholder: placeholders[key],\n          onChange: e => {\n            if (e.target.value.length < 11 && e.target.value.match(/^\\d+$/) || e.target.value.match(/[+]\\d+$/) && e.target.value.length < 15) {\n              formik.handleChange(e);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), !!suffixes && suffixes[key] && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input-suffix\",\n        children: suffixes[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this);\n\n    return InputField;\n  }, [formik, placeholders, suffixes]);\n  const inputDate = useMemo(() => {\n    const InputField = key => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-date\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: key,\n        name: key,\n        value: formik.values[key],\n        placeholder: placeholders[key],\n        onChange: formik.handleChange,\n        onFocus: e => {\n          e.currentTarget.type = 'date';\n        },\n        onBlur: e => {\n          e.currentTarget.type = 'text';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n\n    return InputField;\n  }, [formik, placeholders, selectOptions]);\n\n  const renderField = (key, idx) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: [types[key] !== 'text' || !masks || masks && !masks[key] ? InputTypes[types[key]](key) : InputTypes.maskedText(key), formik.errors[key] && formik.touched[key] && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: formik.errors[key]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this)]\n    }, idx, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this);\n  };\n\n  const InputTypes = {\n    text: inputText,\n    select: inputSelect,\n    checkbox: inputCheckbox,\n    phone: inputPhone,\n    maskedText: inputTextWithMask,\n    textArea: inputTextArea,\n    warehouse: inputWarehouse,\n    delivery: inputDelivery,\n    date: inputDate\n  };\n\n  const findOptionField = key => optionFields === null || optionFields === void 0 ? void 0 : optionFields.find(({\n    fieldName\n  }) => key === fieldName);\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n    },\n    children: [Object.keys(formik.values).map((key, idx) => {\n      const optionField = findOptionField(key);\n\n      if ((optionField === null || optionField === void 0 ? void 0 : optionField.dependFieldValue) === formik.values[optionField === null || optionField === void 0 ? void 0 : optionField.dependFieldName] || !optionField) {\n        return renderField(key, idx);\n      }\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'button-container',\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        title: buttonTitle,\n        callback: () => {\n          if (formik.values.phone === undefined) return formik.handleSubmit();\n\n          if (formik.values.phone.length > 8 && formik.values.phone.length < 11) {\n            formik.values.phone = `+${mask.getSelectedCountryData().dialCode}${formik.values.phone}`;\n          }\n\n          if (formik.values.phone.length < 15) formik.handleSubmit();\n        },\n        type: \"button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 5\n  }, this);\n};\n\nexport default Form;","map":{"version":3,"sources":["D:/archivegit/blind-blind/src/components/Form/Form.tsx"],"names":["useMemo","useEffect","useState","useRef","useFormik","useRouter","InputMask","intlTelInput","Fuse","Button","Dropdown","FORM","warehouses","Form","formikConfig","types","selectOptions","placeholders","suffixes","masks","checkboxText","buttonTitle","optionFields","deliveryChangeHandler","formik","locale","phoneRef","mask","setMask","values","phone","undefined","current","separateDialCode","initialCountry","preferredCountries","excludeCountries","setValues","initialValues","inputWarehouse","options","includeScore","keys","fuse","currentWarehouses","search","length","handleBlur","e","target","value","trim","handleChange","InputText","key","touched","InputField","map","item","address","setFieldValue","inputText","inputTextWithMask","inputTextArea","inputCheckbox","inputDelivery","deliverySetValue","novaPoshta","ukrPoshta","courierNovaPoshta","inputSelect","inputPhone","match","inputDate","currentTarget","type","renderField","idx","InputTypes","maskedText","errors","text","select","checkbox","textArea","warehouse","delivery","date","findOptionField","find","fieldName","preventDefault","Object","optionField","dependFieldValue","dependFieldName","handleSubmit","getSelectedCountryData","dialCode"],"mappings":"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","sourcesContent":["import { FocusEventHandler, useMemo, useEffect, useState, useRef } from 'react';\r\nimport { useFormik } from 'formik';\r\nimport { useRouter } from 'next/router';\r\nimport InputMask from 'react-input-mask';\r\nimport intlTelInput from 'intl-tel-input';\r\nimport Fuse from 'fuse.js';\r\n\r\nimport Button from '../Button/Button';\r\nimport Dropdown from './Dropdown';\r\n\r\nimport { IFormProps } from './Types';\r\n\r\nimport { FORM } from '../../constants/form';\r\n\r\nimport warehouses from '../../../npWarehouses.json';\r\n\r\nconst Form: React.FC<IFormProps> = ({\r\n  formikConfig,\r\n  types,\r\n  selectOptions,\r\n  placeholders,\r\n  suffixes,\r\n  masks,\r\n  checkboxText,\r\n  buttonTitle,\r\n  optionFields,\r\n  deliveryChangeHandler,\r\n}) => {\r\n  const formik = useFormik(formikConfig);\r\n  const { locale } = useRouter();\r\n  const phoneRef = useRef<HTMLInputElement>(null);\r\n  const [mask, setMask] = useState<intlTelInput.Plugin>();\r\n\r\n  useEffect(() => {\r\n    if (formik.values.phone !== undefined) {\r\n      setMask(\r\n        intlTelInput(phoneRef.current!, {\r\n          separateDialCode: true,\r\n          initialCountry: 'ua',\r\n          preferredCountries: ['ua', 'ru', 'kz', 'us', 'il', 'ae', 'by'],\r\n          excludeCountries: ['ru', 'by']\r\n        })\r\n      );\r\n    }\r\n  }, [phoneRef]);\r\n  useEffect(() => {\r\n    formik.setValues(formikConfig.initialValues);\r\n  }, [formikConfig]);\r\n\r\n  const inputWarehouse = useMemo(() => {\r\n    const options = {\r\n      includeScore: true,\r\n      keys: ['settlement'],\r\n    };\r\n    const fuse = new Fuse(warehouses, options);\r\n    const currentWarehouses = fuse.search(formik.values['city'] || '');\r\n    if (locale === 'en' || !currentWarehouses.length) {\r\n      const handleBlur: FocusEventHandler<HTMLInputElement> = (e) => {\r\n        e.target.value = e.target.value.trim();\r\n        formik.handleBlur(e);\r\n        formik.handleChange(e);\r\n      };\r\n\r\n      const InputText = (key: string) => (\r\n        <div className=\"input-box\">\r\n          <input\r\n            type=\"text\"\r\n            id={key}\r\n            name={key}\r\n            value={formik.values[key]}\r\n            placeholder={placeholders[key]}\r\n            onChange={formik.handleChange}\r\n            onBlur={handleBlur}\r\n            onFocus={() => (formik.touched[key] = undefined)}\r\n          />\r\n          {!!suffixes && suffixes[key] && (\r\n            <span className=\"input-suffix\">{suffixes[key]}</span>\r\n          )}\r\n        </div>\r\n      );\r\n      return InputText;\r\n    }\r\n    const InputField = (key: string) => (\r\n      <div className=\"input-select\">\r\n        <Dropdown\r\n          value={formik.values[key]}\r\n          placeholder={placeholders[key]}\r\n          values={currentWarehouses.map(({ item: { address } }) => address)}\r\n          setValue={(item) => formik.setFieldValue(key, item)}\r\n        />\r\n      </div>\r\n    );\r\n    return InputField;\r\n  }, [formik, placeholders, locale]);\r\n\r\n  const inputText = useMemo(() => {\r\n    const handleBlur: FocusEventHandler<HTMLInputElement> = (e) => {\r\n      e.target.value = e.target.value.trim();\r\n      formik.handleBlur(e);\r\n      formik.handleChange(e);\r\n    };\r\n\r\n    const InputField = (key: string) => (\r\n      <div className=\"input-box\">\r\n        <input\r\n          type=\"text\"\r\n          id={key}\r\n          name={key}\r\n          value={formik.values[key]}\r\n          placeholder={placeholders[key]}\r\n          onChange={formik.handleChange}\r\n          onBlur={handleBlur}\r\n          onFocus={() => (formik.touched[key] = undefined)}\r\n        />\r\n        {!!suffixes && suffixes[key] && (\r\n          <span className=\"input-suffix\">{suffixes[key]}</span>\r\n        )}\r\n      </div>\r\n    );\r\n    return InputField;\r\n  }, [formik, placeholders, suffixes]);\r\n\r\n  const inputTextWithMask = useMemo(() => {\r\n    const InputField = (key: string) => (\r\n      <div className=\"input-box\">\r\n        <InputMask\r\n          type=\"text\"\r\n          id={key}\r\n          name={key}\r\n          value={formik.values[key]}\r\n          placeholder={placeholders[key]}\r\n          onChange={formik.handleChange}\r\n          onBlur={formik.handleBlur}\r\n          onFocus={() => (formik.touched[key] = undefined)}\r\n          mask={masks ? masks[key] : ''}\r\n        />\r\n        {!!suffixes && suffixes[key] && (\r\n          <span className=\"input-suffix\">{suffixes[key]}</span>\r\n        )}\r\n      </div>\r\n    );\r\n    return InputField;\r\n  }, [formik, masks, placeholders, suffixes]);\r\n\r\n  const inputTextArea = useMemo(() => {\r\n    const InputField = (key: string) => (\r\n      <div className=\"input-area\">\r\n        <textarea\r\n          id={key}\r\n          name={key}\r\n          value={formik.values[key]}\r\n          placeholder={placeholders[key]}\r\n          onChange={formik.handleChange}\r\n          onBlur={formik.handleBlur}\r\n          onFocus={() => (formik.touched[key] = undefined)}\r\n        />\r\n        {!!suffixes && suffixes[key] && (\r\n          <span className=\"input-suffix\">{suffixes[key]}</span>\r\n        )}\r\n      </div>\r\n    );\r\n    return InputField;\r\n  }, [formik, placeholders, suffixes]);\r\n\r\n  const inputCheckbox = useMemo(() => {\r\n    const InputField = (key: string) => (\r\n      <div className=\"input-checkbox\">\r\n        <input\r\n          className=\"checkbox\"\r\n          type=\"checkbox\"\r\n          id={key}\r\n          name={key}\r\n          value={formik.values[key]}\r\n          onChange={formik.handleChange}\r\n          onBlur={formik.handleBlur}\r\n          onFocus={() => (formik.touched[key] = undefined)}\r\n        />\r\n        <label className=\"input-checkbox__label\" htmlFor={key}>\r\n          {checkboxText}\r\n        </label>\r\n      </div>\r\n    );\r\n    return InputField;\r\n  }, [formik, checkboxText]);\r\n\r\n  const inputDelivery = useMemo(() => {\r\n    function deliverySetValue(item: string, key: string) {\r\n      formik.setFieldValue(key, item);\r\n      if (deliveryChangeHandler) deliveryChangeHandler(item);\r\n    }\r\n    const InputField = (key: string) => (\r\n      <div className=\"input-select\">\r\n        <Dropdown\r\n          value={formik.values[key]}\r\n          placeholder={placeholders[key]}\r\n          values={[\r\n            FORM[locale as 'ru' | 'en'].novaPoshta,\r\n            FORM[locale as 'ru' | 'en'].ukrPoshta,\r\n            FORM[locale as 'ru' | 'en'].courierNovaPoshta,\r\n          ]}\r\n          setValue={(item) => deliverySetValue(item, key)}\r\n        />\r\n      </div>\r\n    );\r\n    return InputField;\r\n  }, [formik, placeholders, selectOptions]);\r\n\r\n  const inputSelect = useMemo(() => {\r\n    const InputField = (key: string) => (\r\n      <div className=\"input-select\">\r\n        <Dropdown\r\n          value={formik.values[key]}\r\n          placeholder={placeholders[key]}\r\n          values={selectOptions ? selectOptions[key] : []}\r\n          setValue={(item) => formik.setFieldValue(key, item)}\r\n        />\r\n      </div>\r\n    );\r\n    return InputField;\r\n  }, [formik, placeholders, selectOptions]);\r\n\r\n  const inputPhone = useMemo(() => {\r\n    const InputField = (key: string) => (\r\n      <div className=\"input-box\">\r\n        <div className=\"phone-mask-container\">\r\n          <input\r\n            type=\"text\"\r\n            id={key}\r\n            name={key}\r\n            ref={phoneRef}\r\n            value={formik.values[key]}\r\n            placeholder={placeholders[key]}\r\n            onChange={(e) => {\r\n              if (\r\n                (e.target.value.length < 11 && e.target.value.match(/^\\d+$/)) ||\r\n                (e.target.value.match(/[+]\\d+$/) && e.target.value.length < 15)\r\n              ) {\r\n                formik.handleChange(e);\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n        {!!suffixes && suffixes[key] && (\r\n          <span className=\"input-suffix\">{suffixes[key]}</span>\r\n        )}\r\n      </div>\r\n    );\r\n    return InputField;\r\n  }, [formik, placeholders, suffixes]);\r\n\r\n  const inputDate = useMemo(() => {\r\n    const InputField = (key: string) => (\r\n      <div className=\"input-date\">\r\n        <input\r\n          type=\"text\"\r\n          id={key}\r\n          name={key}\r\n          value={formik.values[key]}\r\n          placeholder={placeholders[key]}\r\n          onChange={formik.handleChange}\r\n          onFocus={(e) => {\r\n            e.currentTarget.type = 'date';\r\n          }}\r\n          onBlur={(e) => {\r\n            e.currentTarget.type = 'text';\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n    return InputField;\r\n  }, [formik, placeholders, selectOptions]);\r\n\r\n  const renderField = (key: string, idx: number) => {\r\n    return (\r\n      <div key={idx} className=\"form-row\">\r\n        {types[key] !== 'text' || !masks || (masks && !masks[key])\r\n          ? InputTypes[types[key]](key)\r\n          : InputTypes.maskedText(key)}\r\n        {formik.errors[key] && formik.touched[key] && (\r\n          <p className=\"error\">{formik.errors[key]}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const InputTypes: { [key: string]: (key: string) => void } = {\r\n    text: inputText,\r\n    select: inputSelect,\r\n    checkbox: inputCheckbox,\r\n    phone: inputPhone,\r\n    maskedText: inputTextWithMask,\r\n    textArea: inputTextArea,\r\n    warehouse: inputWarehouse,\r\n    delivery: inputDelivery,\r\n    date: inputDate,\r\n  };\r\n\r\n  const findOptionField = (key: string) =>\r\n    optionFields?.find(({ fieldName }) => key === fieldName);\r\n\r\n  return (\r\n    <form\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n      }}\r\n    >\r\n      {Object.keys(formik.values).map((key, idx) => {\r\n        const optionField = findOptionField(key);\r\n        if (\r\n          optionField?.dependFieldValue ===\r\n            formik.values[optionField?.dependFieldName as string] ||\r\n          !optionField\r\n        ) {\r\n          return renderField(key, idx);\r\n        }\r\n      })}\r\n      <div className={'button-container'}>\r\n        <Button\r\n          title={buttonTitle}\r\n          callback={() => {\r\n            if (formik.values.phone === undefined) return formik.handleSubmit();\r\n            if (\r\n              formik.values.phone.length > 8 &&\r\n              formik.values.phone.length < 11\r\n            ) {\r\n              formik.values.phone = `+${\r\n                mask!.getSelectedCountryData().dialCode\r\n              }${formik.values.phone}`;\r\n            }\r\n            if (formik.values.phone.length < 15) formik.handleSubmit();\r\n          }}\r\n          type=\"button\"\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n"]},"metadata":{},"sourceType":"module"}