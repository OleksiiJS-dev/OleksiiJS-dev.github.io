{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useContext, useEffect, useRef, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport LanguageSelector from './LanguageSelector';\nimport Logo from './Logo';\nimport SearchInput from './SearchInput';\nimport Sublist from './Sublist';\nimport CartIcon from '../Cart/CartIcon';\nimport CurrencySelector from './CurrencySelector';\nimport { indexContext } from '../../context/cockpitContext';\nimport { TRANSLATE } from '../../constants/languages';\nimport { AboutListData, StoreListData } from '../../constants/header';\n\nvar DesktopHeader = function DesktopHeader() {\n  var _useState = useState(false),\n      desktopMenuOpen = _useState[0],\n      setDesktopMenuOpen = _useState[1];\n\n  var _useState2 = useState('store'),\n      curMenu = _useState2[0],\n      setCurMenu = _useState2[1];\n\n  var _useState3 = useState(false),\n      searchContainerOpen = _useState3[0],\n      setSearchContainerOpen = _useState3[1];\n\n  var router = useRouter();\n  var locale = router.locale;\n\n  var _ref = useContext(indexContext),\n      collectionsData = _ref.collectionsData,\n      hasStocks = _ref.hasStocks;\n\n  var constantCollections = StoreListData[locale];\n  var collections = collectionsData.concat(constantCollections);\n  var menuRef = useRef(null);\n  var searchRef = useRef(null);\n\n  var changeCurMenu = function changeCurMenu(menu) {\n    if (!desktopMenuOpen) setDesktopMenuOpen(true);else if (curMenu === menu) setDesktopMenuOpen(false);\n    setCurMenu(menu);\n  };\n\n  useEffect(function () {\n    var handleClickOutside = function handleClickOutside(e) {\n      if (menuRef.current && !menuRef.current.contains(e.target) && desktopMenuOpen) {\n        setDesktopMenuOpen(false);\n      }\n\n      if (searchRef.current && (!searchRef.current.contains(e.target) || e.target.tagName.toLowerCase() === 'a') && searchContainerOpen) {\n        setSearchContainerOpen(false);\n      }\n    };\n\n    document.addEventListener('click', handleClickOutside);\n    return function () {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, [desktopMenuOpen, searchContainerOpen]);\n  useEffect(function () {\n    document.body.className = desktopMenuOpen || searchContainerOpen ? 'hide-overflow' : '';\n  }, [desktopMenuOpen, searchContainerOpen]);\n  return /*#__PURE__*/_jsx(\"header\", {\n    className: \"desktop-header\",\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"desktop-header__container container\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        ref: menuRef,\n        className: \"desktop-header__options\",\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          className: \"desktop-header__options-option\",\n          role: \"presentation\",\n          onClick: function onClick() {\n            return changeCurMenu('store');\n          },\n          children: TRANSLATE[locale].store\n        }), /*#__PURE__*/_jsx(\"a\", {\n          className: \"desktop-header__options-option\",\n          role: \"presentation\",\n          onClick: function onClick() {\n            return changeCurMenu('about');\n          },\n          children: TRANSLATE[locale].aboutUs\n        }), /*#__PURE__*/_jsx(CurrencySelector, {}), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"desktop-header__desktop-menu \".concat(desktopMenuOpen ? 'open' : ''),\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"options-sublist \".concat(curMenu === 'about' ? 'open' : ''),\n            children: /*#__PURE__*/_jsx(Sublist, {\n              data: AboutListData[locale],\n              closeMenu: function closeMenu() {\n                return setDesktopMenuOpen(false);\n              }\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"options-sublist \".concat(curMenu === 'store' ? 'open' : ''),\n            children: /*#__PURE__*/_jsx(Sublist, {\n              data: hasStocks ? collections : collections.filter(function (_ref2) {\n                var link = _ref2.link;\n                return link !== '/sales';\n              }),\n              closeMenu: function closeMenu() {\n                return setDesktopMenuOpen(false);\n              }\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(Logo, {}), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"desktop-header__options\",\n        children: [/*#__PURE__*/_jsx(LanguageSelector, {}), /*#__PURE__*/_jsx(CartIcon, {}), /*#__PURE__*/_jsx(\"a\", {\n          className: \"desktop-header__options-option\",\n          role: \"presentation\",\n          onClick: function onClick() {\n            return setSearchContainerOpen(!searchContainerOpen);\n          },\n          children: TRANSLATE[locale].search\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        ref: searchRef,\n        className: \"desktop-header__search-container \".concat(searchContainerOpen ? 'open' : ''),\n        children: /*#__PURE__*/_jsx(SearchInput, {\n          close: function close() {\n            return setSearchContainerOpen(false);\n          }\n        })\n      })]\n    })\n  });\n};\n\nexport default DesktopHeader;","map":null,"metadata":{},"sourceType":"module"}