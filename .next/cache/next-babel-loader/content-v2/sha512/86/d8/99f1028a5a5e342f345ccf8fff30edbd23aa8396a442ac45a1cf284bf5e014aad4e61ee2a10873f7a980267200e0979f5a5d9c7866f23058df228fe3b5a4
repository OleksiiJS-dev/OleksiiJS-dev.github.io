{"ast":null,"code":"import useSWR from 'swr';\n\nconst absoluteUrl = url => {\n  const isServer = false;\n  const server = isServer ? window.location.origin + '/' : process.env.NEXT_PUBLIC_COCKPIT_URL;\n  return server + url;\n};\n\nexport const useCockpit = (withSuspense, params) => {\n  const fetcher = url => {\n    return fetch(url).then(res => res.json());\n  };\n\n  const url = 'api/getGoods';\n  const urlWithParams = params ? url + '?' + params : url;\n  const {\n    data,\n    error\n  } = useSWR(absoluteUrl(urlWithParams), fetcher, {\n    suspense: withSuspense\n  });\n\n  if (!error) {\n    return {\n      data,\n      error\n    };\n  }\n\n  return {\n    data: null,\n    error\n  };\n};\nexport default useCockpit;","map":null,"metadata":{},"sourceType":"module"}