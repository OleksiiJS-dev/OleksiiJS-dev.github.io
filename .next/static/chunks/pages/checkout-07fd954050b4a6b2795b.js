_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{"7/t8":function(e,t,c){var n=c("q1tI");function a(e){return n.createElement("svg",e,n.createElement("path",{d:"M17.178 13.088H5.453c-.454 0-.91-.364-.91-.818L3.727 1.818H0V0h4.544c.455 0 .91.364.91.818l.09 1.272h13.45c.274 0 .547.09.73.364.18.182.27.454.18.727l-1.817 9.18c-.09.455-.455.728-.91.728zM6.27 11.27h10.09l1.454-7.362H5.634l.637 7.362zm.092 7.715c1.004 0 1.818-.813 1.818-1.817s-.814-1.818-1.818-1.818-1.818.814-1.818 1.818.814 1.817 1.818 1.817zm9.18 0c1.004 0 1.817-.813 1.817-1.817s-.814-1.818-1.818-1.818-1.818.814-1.818 1.818.814 1.817 1.818 1.817z"}))}a.defaultProps={width:"20",height:"19",className:"order-summary-toggle__icon"},e.exports=a,a.default=a},C3k0:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c("q1tI"),a=Object(n.createContext)(null)},XRZe:function(e,t,c){"use strict";var n=c("nKUr"),a=c("20a2"),r=c("dxDv");t.a=function(e){var t=e.details,c=Object(a.useRouter)().locale;return Object(n.jsx)("div",{className:"details",children:"string"==typeof t?Object(n.jsx)("p",{children:t}):Object.keys(t).map((function(e,a){return Object(n.jsxs)("p",{children:[[r.b[c].growth,r.b[c].bustVolume,r.b[c].waistVolume,r.b[c].hipsVolume][a],": ",t[e]," ",r.b[c].cm]},a)}))})}},YFqc:function(e,t,c){e.exports=c("cTJO")},aVMG:function(e,t,c){var n=c("q1tI");function a(e){return n.createElement("svg",e,n.createElement("path",{d:"M11 24h-9v-12h9v12zm0-18h-11v4h11v-4zm2 18h9v-12h-9v12zm0-18v4h11v-4h-11zm4.369-6c-2.947 0-4.671 3.477-5.369 5h5.345c3.493 0 3.53-5 .024-5zm-.796 3.621h-2.043c.739-1.121 1.439-1.966 2.342-1.966 1.172 0 1.228 1.966-.299 1.966zm-9.918 1.379h5.345c-.698-1.523-2.422-5-5.369-5-3.506 0-3.469 5 .024 5zm.473-3.345c.903 0 1.603.845 2.342 1.966h-2.043c-1.527 0-1.471-1.966-.299-1.966z"}))}a.defaultProps={width:"24",height:"24",viewBox:"0 0 24 24"},e.exports=a,a.default=a},cTJO:function(e,t,c){"use strict";var n=c("J4zp"),a=c("284h");t.__esModule=!0,t.default=void 0;var r=a(c("q1tI")),i=c("elyg"),o=c("nOHt"),s=c("vNVm"),l={};function u(e,t,c,n){if(e&&(0,i.isLocalURL)(t)){e.prefetch(t,c,n).catch((function(e){0}));var a=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;l[t+"%"+c+(a?"%"+a:"")]=!0}}var d=function(e){var t=!1!==e.prefetch,c=(0,o.useRouter)(),a=c&&c.asPath||"/",d=r.default.useMemo((function(){var t=(0,i.resolveHref)(a,e.href,!0),c=n(t,2),r=c[0],o=c[1];return{href:r,as:e.as?(0,i.resolveHref)(a,e.as):o||r}}),[a,e.href,e.as]),p=d.href,h=d.as,b=e.children,f=e.replace,j=e.shallow,m=e.scroll,v=e.locale;"string"===typeof b&&(b=r.default.createElement("a",null,b));var O=r.Children.only(b),y=O&&"object"===typeof O&&O.ref,g=(0,s.useIntersection)({rootMargin:"200px"}),x=n(g,2),N=x[0],k=x[1],C=r.default.useCallback((function(e){N(e),y&&("function"===typeof y?y(e):"object"===typeof y&&(y.current=e))}),[y,N]);(0,r.useEffect)((function(){var e=k&&t&&(0,i.isLocalURL)(p),n="undefined"!==typeof v?v:c&&c.locale,a=l[p+"%"+h+(n?"%"+n:"")];e&&!a&&u(c,p,h,{locale:n})}),[h,p,k,v,t,c]);var w={ref:C,onClick:function(e){O.props&&"function"===typeof O.props.onClick&&O.props.onClick(e),e.defaultPrevented||function(e,t,c,n,a,r,o,s){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,i.isLocalURL)(c))&&(e.preventDefault(),null==o&&(o=n.indexOf("#")<0),t[a?"replace":"push"](c,n,{shallow:r,locale:s,scroll:o}))}(e,c,p,h,f,j,m,v)},onMouseEnter:function(e){(0,i.isLocalURL)(p)&&(O.props&&"function"===typeof O.props.onMouseEnter&&O.props.onMouseEnter(e),u(c,p,h,{priority:!0}))}};if(e.passHref||"a"===O.type&&!("href"in O.props)){var P="undefined"!==typeof v?v:c&&c.locale,S=c&&c.isLocaleDomain&&(0,i.getDomainLocale)(h,P,c&&c.locales,c&&c.domainLocales);w.href=S||(0,i.addBasePath)((0,i.addLocale)(h,P,c&&c.defaultLocale))}return r.default.cloneElement(O,w)};t.default=d},eDWq:function(e,t,c){"use strict";c.r(t),c.d(t,"__N_SSP",(function(){return _}));var n=c("nKUr"),a=c("S93I"),r=c("20a2"),i=c("q1tI"),o=c("C3k0"),s=c("G4ea"),l=c("dxDv"),u=c("YvjV"),d=c("7/t8"),p=c.n(d),h=c("p+1L"),b=c("Aiso"),f=c.n(b),j=c("XRZe"),m=c("aVMG"),v=c.n(m),O=function(e){var t=e.price,c=e.amount,a=e.title,s=e.details,u=e.photo,d=e.receiverName,p=Object(r.useRouter)().locale,h=Object(i.useContext)(o.a),b=h.currency,m=h.currencyRate;return Object(n.jsxs)("div",{className:"order-summary-list-item",children:[Object(n.jsxs)("div",{className:"photo-box",children:[Object(n.jsx)("div",{className:"amount",children:c}),a&&u?Object(n.jsx)(f.a,{layout:"fill",objectFit:"contain",alt:a,loading:"eager",src:"https://content.blind-blind.com/"+u}):Object(n.jsx)(v.a,{})]}),Object(n.jsx)("div",{className:"info",children:a&&s?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{className:"title",children:a}),Object(n.jsx)(j.a,{details:s})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("p",{className:"title",children:[l.b[p].giftCertificateCartAbout,Object(n.jsx)("span",{children:d})]})})}),Object(n.jsxs)("p",{className:"price",children:[(Number.parseFloat(t)/m).toFixed(2)," ",b]})]})},y=function(e){var t=e.currencyTotalCheckout,c=e.checkDiscountCode,a=Object(i.useContext)(o.a).currency,d=Object(r.useRouter)().locale,b=Object(i.useContext)(h.a).cart,f=Object(i.useState)(!1),j=f[0],m=f[1],v=Object(i.useRef)(null);return Object(n.jsxs)("div",{className:"shipping__order-summary",children:[Object(n.jsxs)("div",{className:"order-summary-toggle container",role:"presentation",onClick:function(){m(!j)},children:[Object(n.jsx)(p.a,{}),j?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:l.b[d].hideOrderSummary}),Object(n.jsx)("div",{className:"chevron-up"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:l.b[d].showOrderSummary}),Object(n.jsx)("div",{className:"chevron-down"})]}),Object(n.jsxs)("div",{className:"total-sum",children:[t," ",a]})]}),Object(n.jsxs)("div",{ref:v,className:"order-summary-list container ".concat(j&&"open"),children:[b.map((function(e,t){return"receiverName"in e?Object(n.jsx)(O,{price:e.price,amount:e.amount,receiverName:e.receiverName},t):Object(n.jsx)(O,{price:e.price,amount:e.amount,title:e.title,photo:e.photo,details:e.details},t)})),Object(n.jsx)("div",{className:"divider container"}),Object(n.jsx)("div",{className:"discount",children:Object(n.jsx)(u.a,{formikConfig:{initialValues:s.b.shippingDiscount.values,onSubmit:function(e){c(e.code)}},types:{code:"text"},placeholders:{code:l.b[d].discountCode},buttonTitle:"\u2192"})}),Object(n.jsx)("div",{className:"divider container"}),Object(n.jsxs)("div",{className:"total-checkout",children:[Object(n.jsx)("p",{className:"title",children:l.b[d].subTotal}),Object(n.jsxs)("p",{className:"price",children:[t," ",a]})]}),Object(n.jsx)("div",{className:"divider container"})]})]})},g=c("rePB"),x=c("YFqc"),N=c.n(x);function k(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function C(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?k(Object(c),!0).forEach((function(t){Object(g.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):k(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var w=function(e){var t=e.confirmCheckout,c=e.deliveryChangeHandler,a=Object(r.useRouter)().locale;return Object(n.jsxs)("div",{className:"shipping__info",children:[Object(n.jsx)("h2",{className:"title",children:l.b[a].shipping}),Object(n.jsxs)("div",{className:"shipping__form",children:[Object(n.jsx)(u.a,{formikConfig:{initialValues:localStorage.getItem("shipping")?C(C({},s.b.shippingMain.values),JSON.parse(localStorage.getItem("shipping"))):s.b.shippingMain.values,validationSchema:s.b.shippingMain.validationSchema(a),onSubmit:t},types:s.b.shippingMain.types,selectOptions:s.b.shippingMain.selectOptions(a),placeholders:s.b.shippingMain.placeholders(a),buttonTitle:l.b[a].continue,checkboxText:l.b[a].saveInfo,optionFields:[{dependFieldName:"deliveryMethod",dependFieldValue:s.a[a].novaPoshta,fieldName:"warehouse"},{dependFieldName:"deliveryMethod",dependFieldValue:s.a[a].courierNovaPoshta,fieldName:"street"},{dependFieldName:"deliveryMethod",dependFieldValue:s.a[a].courierNovaPoshta,fieldName:"house"},{dependFieldName:"deliveryMethod",dependFieldValue:s.a[a].courierNovaPoshta,fieldName:"flat"}],deliveryChangeHandler:c}),Object(n.jsx)(N.a,{href:"/cart",children:Object(n.jsxs)("div",{role:"presentation",className:"back-to-cart",onClick:function(){},children:[Object(n.jsx)("div",{className:"arrow"}),Object(n.jsx)("p",{children:l.b[a].returnToCart})]})})]})]})},P=function(){var e=Object(r.useRouter)(),t=e.locale,c=e.push,a=Object(i.useContext)(h.a),l=a.cart,u=a.clearCart,d=Object(i.useCallback)((function(){return l.reduce((function(e,t){return e+(t.amount*Number.parseFloat(t.price)||0)}),0)}),[l]),p=Object(i.useState)(d()),b=p[0],f=p[1],j=Object(i.useState)("0"),m=j[0],v=j[1],O=Object(i.useState)(""),g=O[0],x=O[1],N=Object(i.useState)(0),k=N[0],C=N[1],P=Object(i.useRef)(),S=Object(i.useState)(),_=S[0],M=S[1],E=Object(i.useContext)(o.a),F=E.currency,T=E.currencyRate,D=E.USDRate,R=Object(i.useCallback)((function(e){fbq("track",e,{content_type:"product",content_ids:l.map((function(e){return(null===e||void 0===e?void 0:e.link.replace("/",""))||"cerificate"})),currency:"UAH"===F.toString()?"USD":F.toString(),value:"UAH"===F.toString()?d()/D:d()/T})}),[l,D,d,F,T]),L=Object(i.useCallback)((function(e){e===s.a[t].ukrPoshta?0===k&&C(l.reduce((function(e,t){return e+200*t.amount}),400)):C(0)}),[l,k,t,C]);Object(i.useEffect)((function(){L(g)}),[g,l,k,t,C,L,b]);var I=function(e){x(e)};Object(i.useEffect)((function(){R("InitiateCheckout")}),[R]),Object(i.useEffect)((function(){f(d())}),[d]),Object(i.useEffect)((function(){v(((b+k)/T).toFixed(2))}),[b,T,k]),Object(i.useEffect)((function(){_&&V(_)}),[_]);var V=Object(i.useCallback)((function(e){d();var n=e.firstName,a=e.lastName,r=e.country,i=e.city,o=e.email,p=e.phone,h=e.paymentMethod,b=e.deliveryMethod,f=e.service,j=e.checkbox,v=e.warehouse,O=e.street,y=e.house,g=e.flat;j?localStorage.setItem("shipping",JSON.stringify({firstName:n,lastName:a,country:r,city:i,email:o,phone:p,paymentMethod:h,service:f,checkbox:j,warehouse:v,street:O,house:y,flat:g})):localStorage.removeItem("shipping");var x="purchase"+Math.random().toString(10).substr(2);gtag("event","purchase",{transaction_id:x,affiliation:"Blind",value:m,currency:F,tax:0,shipping:k,items:l.map((function(e,t){return{id:e.id,name:e.title,list_name:"Goods",brand:"BLIND",category:e.collectionTitle,variant:e.details,list_position:t+1,quantity:e.amount,price:e.price}}))});var N=t;fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,surname:a,deliveryService:f,paymentType:h,totalSum:+m,coupon:P.current,locale:N,email:o,country:r,city:i,phone:p,items:l,currency:F,deliveryMethod:b,deliveryCost:k,warehouse:b===s.a[t].novaPoshta?v:"",street:b===s.a[t].courierNovaPoshta?O:"",house:b===s.a[t].courierNovaPoshta?y:"",flat:b===s.a[t].courierNovaPoshta?g:""})}).then((function(e){return e.json()})).then((function(e){var t=e.signature,n=e.data;console.log(t),console.log(n),h===s.a[N].paymentOnline&&window.location.replace("https://www.liqpay.ua/api/3/checkout?data=".concat(n,"&signature=").concat(t)),c("/thank-you"),u()}))}),[l,d,m]),z=Object(i.useCallback)((function(e){M(e)}),[]),q=Object(i.useMemo)((function(){return Object(n.jsx)(w,{deliveryChangeHandler:I,confirmCheckout:z})}),[z]);return Object(n.jsxs)("div",{className:"shipping container",children:[Object(n.jsx)(y,{currencyTotalCheckout:m,checkDiscountCode:function(e){fetch("/api/getPromocode",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(t){var c=t.discount;P.current=e,f(c?c.inPercent?d()*(1-Number.parseFloat(c.discount)/100):d()-Number.parseFloat(c.discount):d())}))}}),q]})},S=c("yPvB"),_=!0;t.default=function(e){var t=e.locale;return Object(n.jsxs)("div",{className:"checkout-page",children:[Object(n.jsx)(a.a,{title:S.b[t].cartPage.title,description:S.b[t].cartPage.title,breadcrumbs:[{title:S.b[t].cartPage.breadcrumbName,link:S.b[t].cartPage.link}],lang:t,path:"https://blind-blind.com"+S.b[t].cartPage.link}),Object(n.jsx)(P,{})]})}},iEj2:function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return c("eDWq")}])}},[["iEj2",0,2,1,3,4,5]]]);